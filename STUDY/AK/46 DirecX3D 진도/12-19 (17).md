Deferred Mrt 생성
res 메 미리 등록한 texture 가 아니라 새로 만들어서 사용한다.
바인드 플레그에서 Shader resource 의 경우 D3D11_BIND_SHADER_RESOURCE 의 경우 gpu 의 register 에 바인딩 할 수 있다.


출력이 되어야 하믈Rendertarget 플래그 가 있어야 한다.

shader resoure 와 renderatrget 을 조합한다.

레지스터에 전달도 하고 출력 을 잡응ㄹ 수도 있게 한다.

이 텍스쳐를 arrRTTex 배열의 첫번째 에 대입한다. 
 
NormalTargetTex 이후로  에서 R32 로 하는 이유?

총 네개의 Renderatrget 과 depth 는 없음

depth STencil Texture 가 없는 경우(Detpth Stencil Texture 가 nullptr 인 경우)의 예외 처리 (ClearTArget Omset, )

Omset 에서 B-stay 의 의도는 앞에서 세팅된 Depth Stencil Texture 를 그대로 사용하겠다는 뜻으로 하겠다.

예를 들어 앞에서 Remderatreget Mrt 를 사용하는 경우 OM Stage 에 해당 Texture 들이 그대로 아직 남아있기 대문이다.

Deferred Mrt 에서 깊이 버퍼를 생성하지 않는 이유는 앞서 RenderTarget Mrt 에서 만들어둔 Depth Stencil Texture 를 그대로 사용하기 위함이다.

render 부분에서 ClearTarget 과 Omset() 을 진행 할 것임
1. ClearMrt() 
2. Deferred 로 Omset
3. std3D_deferred,,fx
   기존의 PS shader 는 색상(float4) 를 출력했지만 defferd 에서는 네개의 float 형 변수를 가진구조페를 만들어서 반환 값으로 사용한다. 기존의 SV_TARGET  시멘트는 구조페 안의 Float 4 에 붙인다. 기존의 SV_TArget은 원래 SV_TARGET0 으로 인덱스가 생략되어 있던 형태이다. 구조체 안의 네 개의 Float4 현 변수들에 SV_TARGET 0 부터 4 까지의 시멘틱을 연결한다.
   해당 hlsl 로 shader 와 material 을 생성한다. 
1. deferred 와 deferred deval 객체는 따로 관리한다.
2. 카메라 쪽에서 출력 타겟을 변경해 가면서 객체들을 렌더링한다.


검은 색으로 출력되는 이유는 depth Stencil 값이 없기 때문에 skbox 보다 가까운 정육면체 객체가  검은 색으로 보이는 것이다 이때의 검은 색은 clear target 의 색상이다.

imgui 에서는 텍스쳐 레지스터의 텍스쳐를 가져다가 화면에 보여주는데 Deferered Texture 는 Shader Resource 바인드 플래그를 가지기 때문에 imgui 에서 인지하여 출력할 수 있는 것.

하지만 결국 화면에 출력되는 것은 SwapChain Rendertarget 이기 때문에 Mrt 를 총합해서 Swapchain로 보내는 작업이 필요하다.
-> 

결국 나눠서 담아도 메인인 swapchain mrt 에 넘겨줘야 한다. 
왜냐하면 스왑체인의 Rendertarget 에 윈도우 핸들을 부여하고 Present 를 하기 때문이다.
지연 렌더링은 왜 사용하느가?
기존의 기본 쉐이더는 복잡한 빛 계산을 해야했다
여러 계산이 한번에 이뤄지던 기본 쉐이더의 기능들을 여러 texture로 나눈다면 각각의 정보를 이용해서 특정 효과를 구현할 수 있다.

다중 광원 처리를 할 때에 이점이 있다.

기존의 광원의 개수 가 많으면 기존의 쉐이더에서는 픽셀당 광원의 효과를 각 광원 마다 계산하기 때무에 관원이 많을 수록 많은 연산량을 요구한다.
하지만deferred 에서는  Light Mrt 를 따로 생성해서 광원을 따로 잡는다.
-> 광원을 물체처럼 취급하게 된다.
객체인 광원의 범위 의 지점을 target Texture 와 비교하여 target Texture 의 해당 위치에 물체가 존재한다면 광우너을 적용시킨다.
결국 모든 픽셀에 관원을 계산하는 것이 아니라 광원 객체의 범위에 속한 객체에만 빛의 계산 을 수행한다 또한 카메라 영역에 존재 하지 않는 광원에 대해서는 계산하지 않는다. 


따라서 광원이 많으면 많을 수록 지연 렌더링을 사용하면 연산적으로 이득을 본다.
수많은 파티클이 다 작은 광원이라고 가정해보라

그림자, 모션블러 등의 효과를 주는데에도 효과적이다.