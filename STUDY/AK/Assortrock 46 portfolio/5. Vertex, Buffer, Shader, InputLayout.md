# Vertex

1. Common 폴더에 Struct.h 추가

```c++
#include "CMath.h"
using namespace Math;

struct tVertex
{
	Vector3 pos;
	Vector4 color;
};
```
- 하나의 정점은 위치와 색 정보를 갖고 있다.

2. Header.h 에 Struct.h 추가

3. Manager 폴더에 RenderMgr 폴더 추가 -> 해당 폴더에 CRenderMgr 클라스 생성

```c++
// CRenderMgr.h
#include "Header.h"
#include "CSingleton.h"
#include "CGraphicDevice.h"


class CRenderMgr : public CSingleton<CRenderMgr>
{
private:
	tVertex vertexes[3] = {};

public:
	CRenderMgr();
	~CRenderMgr();

	void Init();
	void Update();
	void Render();
};
```
- 맴버 변수로 정점 배열을 갖는다.

```c++
// CRenderMgr.cpp
#include "CRenderMgr.h"

CRenderMgr::CRenderMgr() {}
CRenderMgr::~CRenderMgr() {}

void CRenderMgr::Init() {};
void CRenderMgr::Update() {};
void CRenderMgr::Render() {};
```

# Buffer

1. CRenderMgr class 에 다음을 맴버 변수로 추가
```c++
	ComPtr<ID3D11Buffer> mVertexBuffer;
	ComPtr<ID3D11Buffer> mIndexBuffer;

	D3D11_BUFFER_DESC mVBDesc;
	D3D11_BUFFER_DESC mIBDesc;
```

2. CRenderMgr class 에 다음을 맴버 함수로 추가
```c++
// CRenderMgr.h
public:
	bool CreateBuffer();
	void BindBuffers();

// CRenderMgr.cpp
bool CRenderMgr::CreateBuffer()
{
	// Vertex Setting
	vertexes[0].pos = Vector3(0.0f, 0.5f, 0.0f);
	vertexes[0].color = Vector4(1.0f, 0.0f, 0.0f, 1.0f);
	vertexes[1].pos = Vector3(0.5f, -0.5f, 0.0f);
	vertexes[1].color = Vector4(1.0f, 0.0f, 0.0f, 1.0f);
	vertexes[2].pos = Vector3(-0.5f, -0.5f, 0.0f);
	vertexes[2].color = Vector4(1.0f, 0.0f, 0.0f, 1.0f);

	// Set VertexBuffer Description
	mVBDesc.ByteWidth = sizeof(tVertex) * 3;
	mVBDesc.Usage = D3D11_USAGE::D3D11_USAGE_DEFAULT;
	mVBDesc.BindFlags = D3D11_BIND_FLAG::D3D11_BIND_VERTEX_BUFFER;
	mVBDesc.CPUAccessFlags = 0;

	// Set SubResourceData Desc
	D3D11_SUBRESOURCE_DATA subData = {};
	subData.pSysMem = vertexes;

	// Create VertexBuffer
	CGraphicDevice::GetInst()->GetDevice()->CreateBuffer(&mVBDesc, &subData, mVertexBuffer.GetAddressOf());

	return true;
}

void CRenderMgr::BindBuffers()
{
	UINT stride = sizeof(tVertex);
	UINT offset = 0;

	CGraphicDevice::GetInst()->GetContext()->IASetVertexBuffers(0, 1, mVertexBuffer.GetAddressOf(), &stride, &offset);
}

```

# Shader

Shader 프로젝트에 Header.hlsli, PS.hlsl, VS.hlsl 파일 추가

1. Header.hlsli
```hlsl
struct VSIn
{
    float3 Pos : POSITION;
    float4 Color : COLOR;
};

struct VSOut
{
    float4 Pos : SV_POSITION;
    float4 Color : COLOR;
};
```

2. VS.hlsl
```hlsl
#include "Header.hlsli"

VSOut main(VSIn In)
{
    VSOut Out = (VSOut) 0.0f;
    Out.Pos = float4(In.Pos, 1.0f);
    Out.Color = In.Color;
    
    return Out;
}
```

3. PS.hlsl
```c++
#include "Header.hlsli"

float4 main(VSOut In) : SV_TARGET
{
    return In.Color;
}
```

4. Graphic 폴더에 GraphicShader 폴더 생성 ->해당 폴더에 CGraphicShader class 생성

```c++

```