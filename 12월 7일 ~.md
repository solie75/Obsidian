# object -> layoaut -> level 구조

지금까지는 CEngine 에서 CTest.h 를 직접적으로 시행했다면 이제부터는 object -> layout -> Level  의 과정을 거쳐 오브젝트를 출력하는 구조를 구축한다.

- Engine Library 에 04. Level 폴더 생성
- 04. Level 폴더에 CLayer class 생성
	- CGameObject* 형 vector 를 맴버 변수 (m_vecObject) 로 선언
	- LayerTIck(), LayerFinalTick(); LayerRender() 를 생성
	- AddGameObject() 함수를 생성하여 전달받은 CGameObject* 형 인자를 m_vecObject 에 추가
	- ~CLayer() 에서 m_vcecObject 를 삭제해야 하는데 이에 대한 코드를 func.h 에서 정의한다.
		- 기존의 Safe_Del_Array() 와 마찬가지로 vector 에 대한 삭제 및 클리어 함수인 Safe_Del_Vec() 을 생성.
	- LayerTick(), LayerFinaltick(), LayerRender() 에서는 m_vecObject 의 모든 요소에 대해 각각 GameObjectTick(), GameObjectFinaltick(), GameObjectRender() 를 호출한다.
- 해당 폴더에 CEntity 를 상속받는 CLevel class 생성
	- CLayer* 형 배열을 맴버 변수(m_arrLayer)로 선언
		- m_arrLayer 의 최대 크기를 define.h 에서 # defin MAX_LAYER 32 로 정의한다.
	- LevelTick(), LevelFinaltick(), LevelRender() 를 생성
	- AddGameObject() 함수를 생성하여 전달받은 CGameObject* 형 인자와 int 형 인자를 사용하여 m_arrLayer 의 원하는 Layer에 대한 CLayer::AddGameObject() 를 호출한다.
	- ~CLevel() 에서 Safe_Del_Array() 로 m_arrLayer 배열을 삭제한다.
	- CLevel() 에서 m_arrLayer의 모든 요소에 new CLayer 로 메모리를 할당한다.
	- LevelTick(), LevelFinaltick(), LevelRender() 에서는 m_arrLayer 의 모든 요소에 대해 각각 LayerTick(), LayerFinaltick(), LayerRender() 를 호출한다.
